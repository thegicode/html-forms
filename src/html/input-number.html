<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Input Number Element</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <link rel="stylesheet" href="../css/input-number.css">
</head>
<body>

    <h2>Input type="number"</h2>

    <h3>Default</h3>
    <form class="form">
        <input type="number" value="123456">
    </form>


    <h3>소수점 계산</h3>
    <p>min = 0, max = 10, step = 1</p>
    <form class="form-step">
        <button type="button" class="decrease-button">-</button>
        <input type="number" class="input" 
            min="0" max="10" 
            pattern="^\d*(\.\d{0,2})?$"
            step = '.01'
            value="5.05" >
        <button type="button" class="increase-button">+</button>
        <script>
            const step = () => {
                const form = document.querySelector('.form-step')
                const input = form.querySelector('input')
                const upButton = document.querySelector('.increase-button')
                const downButton = document.querySelector('.decrease-button')

                let prevValue = input.defaultValue
                const setValue = () => {
                    const { value } = input
                    if (input.checkValidity() === false) {
                        input.value = prevValue
                    } else {
                        prevValue = value
                    }
                }
                input.addEventListener('input', event => {
                    setValue()
                })
                upButton.addEventListener('click', () => {
                    input.value = (Number(input.value) + 1).toFixed(2)
                    // input.stepUp(1)
                    setValue()
                })
                downButton.addEventListener('click', () => {
                    input.value = (Number(input.value) - 1).toFixed(2)
                    // input.stepDown(1)
                    setValue()
                })
            }
            step()
        </script>
    </form>

    <!-- pattern="[0-9]+([\,|\.][0-9]+)?" -->
    


</body>
</html>